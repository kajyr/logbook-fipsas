mixin field(label, value)
  div(class="field field-" + label.toLowerCase().replace(/[\.°]/, '').replace(/\s/g, '-'))
    span.label= label
    span.value= value

mixin multifield(label, value)
  div(class="field field-" + label.toLowerCase().replace(/[\.°]/, '').replace(/\s/g, '-'))
    span.label= label
    span.value= value
    span.value= value
    span.value= value

doctype html
meta(charset="utf-8")
link(href="https://fonts.googleapis.com/css?family=Roboto:400,900" rel="stylesheet")
link(rel="stylesheet" href="style.css")
link(rel="stylesheet" media="print" href="print.css")

body
    each dive in Logbook
        .page
            header
                img(class="header-club" src="../loghi/club.png" alt="logo club" height="30px")
                h1 Scheda Aria (didattica)
                div F.I.P.S.A.S.
                img(class="header-didattica-logo" src="../loghi/fipsas.png" alt="logo club" height="30px")
            .panel
                .intro
                    +field('Immersione n°', dive.$.ID)
                    +field('Data', dive.Divedate)
                .place
                    .place-str
                        +field('Luogo', dive.City[0].$.Name + ' - ' + dive.Country[0].$.Name)
                        +field('Punto', dive.Place[0].$.Name)
                    .place-data
                        +field('Lat.', dive.Place[0].Lat[0])
                        +field('Long.', dive.Place[0].Lon[0])   

            .panel
                .panel
                    h2 Quadro 1 - Pianificazione dell'immersione in curva di sicurezza
                .plan
                    .plan-programmazione
                        .plan-tempi
                            .panel.plan-far
                                h3 Immersione ripetitiva
                                +field('FAR imm. prec.')
                                +field('intervallo di sup.')
                                +field('FAR fine int.sup.')
                                +field('penalità (a)')
                            .panel.plan-steps
                                h3
                                    span PROF.
                                    span TEMPI
                                    span CONS.
                                
                                +multifield('fondo reale (b)')
                                +multifield('sosta profonda (c)')
                                +multifield('risalita (d)')
                                +multifield('sosta sic.+emers.(f)')
                        .panel.plan-legend
                            div FAR = Fattore Azoto Residuo
                            div tempo di tabella=a+b+c [+d (consigliato)]
                            div durata=b+c+d+f
                        
                    .panel.plan-recap
                        h3 Riepilogo
                        +field('prof. tab.')
                        +field('tempo tab.')
                        +field('durata')
                        +field('FAR')
                        +field('consumo')
            .panel
                .panel
                    h2 Quadro 2 - Descrizione dell'immersione
                .panel
                    +field('scopo')
                    +field('tipo')
                
                .panel
                    header
                        h3 Condizioni
                        h4 Ambientali
                        h4 Personali / Sintomi
                
                
                .panel
                    h3 Attrezzatura
                
                .panel
                    h3 Profilo dell'Immersione
                
                .panel
                    h3 Quadro riassuntivo dell'immersione
        .page Page 2